# Remsg Bot

一个简单的Tailchat机器人，对任何收到的消息都会回复"你好"。

## 功能特性

- 🤖 自动回复任何消息
- 💬 回复内容固定为"你好"
- 🔄 避免回复自己的消息（防止无限循环）
- 📝 详细的日志输出
- 🛡️ 错误处理和优雅关闭

## 安装依赖

```bash
npm install
```

## 配置环境变量

创建 `.env` 文件或设置环境变量：

```bash
# Tailchat服务器地址（可选，默认为 http://localhost:11000）
HOST=https://your-tailchat-server.com

# 机器人令牌（必需）
BOT_TOKEN=your-bot-token-here
```

## 获取机器人令牌

1. 登录到你的Tailchat服务器
2. 进入管理面板
3. 创建一个新的机器人应用
4. 确保机器人启用了"bot"能力
5. 复制机器人的令牌（appSecret）

## 运行机器人

```bash
# 使用npm
npm start

# 或直接使用node
node index.js
```

## 使用方法

1. 启动机器人后，它会自动连接到Tailchat服务器
2. 机器人会加入所有它有权限的聊天室
3. 当有人在聊天室发送任何消息时，机器人都会回复"你好"
4. 机器人不会回复自己发送的消息

## 日志输出

机器人运行时会输出以下信息：
- 连接状态
- 收到的消息详情
- 发送回复的确认
- 错误信息（如果有）

## 停止机器人

使用 `Ctrl+C` 或发送 `SIGTERM` 信号来优雅地关闭机器人。

## 故障排除

### 常见错误

1. **缺少BOT_TOKEN环境变量**
   - 确保设置了正确的机器人令牌

2. **连接失败**
   - 检查HOST地址是否正确
   - 确保网络连接正常
   - 验证Tailchat服务器是否运行中

3. **机器人没有bot能力**
   - 在Tailchat管理面板中为机器人启用bot能力

4. **权限不足**
   - 确保机器人有发送消息的权限
   - 检查机器人是否被添加到相应的聊天室

## 技术实现

- 使用 `tailchat-client-sdk` 连接到Tailchat服务器
- 通过WebSocket实时接收消息
- 使用HTTP API发送回复消息
- 包含完整的错误处理和日志记录

## 许可证

MIT License
